webpackJsonp([1],{"2SfJ":function(e,t){},Hp2H:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(e){a("2SfJ")},null,null).exports,r=a("/ocq"),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.loginOrMod}},[e._v(e._s(e.username))]),e._v(" "),a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.registerOrOut}},[e._v(e._s(e.status))]),e._v(" "),a("p",[e._v("Username: "+e._s(e.username))]),e._v(" "),a("p",[e._v("Email: "+e._s(e.email))]),e._v(" "),a("p",[e._v("Phone: "+e._s(e.phone))]),e._v(" "),a("p",[e._v("Avatar:")]),e._v(" "),e.isLogin?a("img",{attrs:{src:e.src,width:"200",height:"200"}}):e._e()])},staticRenderFns:[]};var u=a("VU/8")({data:function(){return{username:"",isLogin:!1,status:"",email:"",phone:"",src:"",display:"none"}},created:function(){this.getEventData()},methods:{getEventData:function(){var e=this.$route.params.username,t=this.$route.params.email,a=this.$route.params.phone,n=this.$route.params.src;null==e?(this.username="登录",this.status="注册",this.isLogin=!1):(this.username=e,this.isLogin=!0,this.status="退出登录",this.email=t,this.phone=a,this.src=n)},loginOrMod:function(){this.isLogin?this.$router.push({path:"/userinfomodify",name:"userinfomodify",params:{username:this.username}}):this.$router.push({path:"/userlogin"})},registerOrOut:function(){this.isLogin?(this.isLogin=!1,this.username="登录",this.status="注册"):this.$router.push({path:"/userregister"})}}},o,!1,function(e){a("YISP")},null,null).exports,p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[e._m(0),e._v(" "),a("div",{attrs:{id:"login"}},[a("p",{attrs:{id:"title"}},[e._v("用户登录")]),e._v(" "),a("form",{attrs:{action:"",method:"post"}},[a("div",{staticClass:"input"},[a("p",{staticStyle:{"padding-left":"10px"}},[e._v("用户名 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"user",id:"_user"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("span",{attrs:{id:"_usererr"}},[e._v("用户名不存在")]),e._v(" "),a("p",{staticStyle:{"padding-left":"10px"}},[e._v("密码 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"_id"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("span",{attrs:{id:"_iderr"}},[e._v("密码错误")]),a("br"),e._v(" "),a("input",{attrs:{type:"button",value:"重置",id:"_reset"},on:{click:e.reset}}),e._v(" "),a("input",{attrs:{type:"button",value:"登录"},on:{click:e.submit}})])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"head"},[t("h2",[this._v("登录")])])}]};var m=a("VU/8")({data:function(){return{username:"",password:""}},created:function(){this.getEventData()},methods:{getEventData:function(){var e=this.$route.params.username;this.username=e},submit:function(){this.$router.push({path:"/",name:"mainpage",params:{username:this.username}})},reset:function(){this.$data.username="",this.$data.password=""}}},p,!1,function(e){a("a8lF")},"data-v-5a53f1e0",null).exports,l=a("mtWM"),d=a.n(l),c={data:function(){return{username:"",phone:"",email:"",password:""}},methods:{submit:function(){var e=this,t=new FormData;t.append("username",this.username),t.append("password",this.password),t.append("telephone",this.phone),console.log(this.phone),t.append("email",this.email),document.getElementById("file").files[0]?t.append("file",document.getElementById("file").files[0]):alert("emm"),d.a.post("/users/register",t).then(function(t){console.log(t.data),console.log(t.data.result.email);var a="http://localhost:5000/static/profile_pics/"+t.data.result.image_file;console.log(a),e.$router.push({path:"/",name:"mainpage",params:{username:t.data.result.username,email:t.data.result.email,phone:t.data.result.telephone,src:a}})}).catch(function(e){console.error(e)})},onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createFile(t[0])},createFile:function(e){var t=new FileReader,a=this;t.onload=function(e){a.file=e.target.result},t.readAsDataURL(e)},reset:function(){this.$data.username="",this.$data.phone="",this.$data.email="",this.$data.password=""}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[e._m(0),e._v(" "),a("div",{attrs:{id:"main"}},[a("p",{attrs:{id:"title"}},[e._v("用户注册")]),e._v(" "),a("form",{attrs:{action:"",enctype:"multipart/form-data"}},[a("div",{staticClass:"input"},[a("p",{staticStyle:{"padding-left":"10px"}},[e._v("用户名 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",name:"username",id:"_user"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("p",{staticStyle:{"padding-left":"15px"}},[e._v("密码 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"_id"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("p",{staticStyle:{"padding-left":"20px"}},[e._v("电话 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",name:"phone",id:"_phone"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),a("p",{staticStyle:{"padding-left":"25px"}},[e._v("邮箱 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"email",id:"_email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("br"),e._v(" "),a("p",{staticStyle:{"padding-left":"25px"}},[e._v("Avatar : "),a("input",{attrs:{type:"file",id:"file",name:"file"},on:{change:e.onFileChange}})]),a("br"),e._v(" "),a("input",{attrs:{type:"button",value:"重置",id:"_reset"},on:{click:e.reset}}),e._v(" "),a("input",{attrs:{type:"button",value:"提交"},on:{click:e.submit}})])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"head"},[t("h2",[this._v("注册")])])}]};var h=a("VU/8")(c,v,!1,function(e){a("Hp2H")},"data-v-7f40dec8",null).exports,f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[e._m(0),e._v(" "),a("div",{attrs:{id:"login"}},[a("p",{attrs:{id:"title"}},[e._v("修改信息")]),e._v(" "),a("form",{attrs:{action:""}},[a("div",{staticClass:"input"},[a("p",{staticStyle:{"padding-left":"10px"}},[e._v("用户名 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{disabled:"disabled",type:"text",name:"user",id:"_user"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("p",{staticStyle:{"padding-left":"15px"}},[e._v("密码 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",id:"_id"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("p",{staticStyle:{"padding-left":"20px"}},[e._v("电话 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",name:"phone",id:"_phone"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),a("p",{staticStyle:{"padding-left":"25px"}},[e._v("邮箱 : "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"email",id:"_email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("br"),e._v(" "),a("input",{attrs:{type:"button",value:"取消",id:"_reset"},on:{click:e.cancel}}),e._v(" "),a("input",{attrs:{type:"button",value:"提交"},on:{click:e.submit}})])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"head"},[t("h2",[this._v("修改")])])}]};var _=a("VU/8")({data:function(){return{username:"",password:"",phone:"",email:""}},created:function(){this.getEventData()},methods:{submit:function(){this.$router.push({path:"/",name:"mainpage",params:{username:this.username}})},cancel:function(){this.$router.push({path:"/",name:"mainpage",params:{username:this.username}})},getEventData:function(){var e=this.$route.params.username;this.username=e}}},f,!1,function(e){a("mWTh")},"data-v-2324860b",null).exports;n.a.use(r.a);var g=new r.a({mode:"history",routes:[{path:"/",name:"mainpage",component:u},{path:"/userlogin",name:"userlogin",component:m},{path:"/userregister",name:"userregister",component:h},{path:"/userinfomodify",name:"userinfomodify",component:_}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:g,components:{App:i},template:"<App/>"})},YISP:function(e,t){},a8lF:function(e,t){},mWTh:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ba9eab59b6bf20ca8895.js.map